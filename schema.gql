# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type AuthOutput {
  token: String!
  user: User!
}

input CreateFamilyInput {
  name: String!
  image: Upload
  description: String
  colour: String
}

input CreateInviteInput {
  familyId: ID!
}

input CreateMementoDateInput {
  day: Int
  month: Int
  year: Int
}

input CreateMementoInput {
  familyId: ID!
  type: String!
  description: String!
  location: String
  media: [CreateMementoMediaInput!]
  dates: [CreateMementoDateInput!]
  people: [ID!]
  beneficiaries: [ID!]
  tags: [String!]
  detectObjects: Boolean = true
  maxDetectedPerMedia: Int = 3
}

input CreateMementoMediaInput {
  type: MediaType!
  file: Upload!
  caption: String
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

input DeleteMementoMediaInput {
  mediaId: ID!
}

type DetectionLabel {
  name: String!
  confidence: Float!
}

type FailedInviteOutput {
  email: String!
  error: String!
}

type Family {
  familyId: ID!
  name: String!
  description: String
  imageUrl: String
  members: [User!]!
  colour: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

enum FamilyRole {
  Admin
  Normal
}

enum Gender {
  Male
  Female
  Other
}

type Invite {
  inviteId: ID!
  inviterId: ID!
  familyId: ID!
  createdAt: DateTime!
  expiresAt: DateTime!
}

input JoinFamilyInput {
  inviteId: ID!
}

input LoginInput {
  email: String!
  password: String!
}

type Media {
  mediaId: ID!
  type: MediaType!
  url: String!
  caption: String
}

enum MediaType {
  Image
  Video
}

type Memento {
  mementoId: ID!
  family: Family!
  uploader: User!
  type: String!
  description: String!
  location: String
  media: [Media!]!
  dates: [MementoDate!]!
  tags: [String!]
  bookmarkedBy: [User!]!
  people: [User!]!
  beneficiaries: [User!]!
  detectedLabels: [DetectionLabel!]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type MementoDate {
  dateId: ID!
  day: Int
  month: Int
  year: Int
}

type Mutation {
  signup(input: UserSignupInput!): AuthOutput!
  updateUser(input: UpdateUserInput!): User!
  updateRole(input: RoleInput!, userId: String!): User!
  login(input: LoginInput!): AuthOutput!
  createFamily(input: CreateFamilyInput!): Family!
  updateFamily(input: UpdateFamilyInput!): Family!
  joinFamily(input: JoinFamilyInput!): Family!
  createInvite(input: CreateInviteInput!): Invite!
  inviteByEmail(input: SendInvitesInput!): SendInvitesOutput!
  createMemento(input: CreateMementoInput!): Memento!
  updateMemento(input: UpdateMementoInput!): Memento!
  bookmark(mementoId: ID!): Memento!
  deleteBookmark(mementoId: ID!): Memento!
}

type Query {
  user(userId: String!): User!
  currentUser: User!
  refreshToken: String!
  family(familyId: ID!): Family!
  invite(inviteId: ID!): Invite!
  memento(mementoId: ID!): Memento!
  mementos(tags: [String!], lastId: ID, familyId: ID!): [Memento!]!
}

type Role {
  familyId: ID!
  familyRole: FamilyRole!
}

input RoleInput {
  familyId: ID!
  familyRole: FamilyRole!
}

input SendInvitesInput {
  familyId: ID!
  emails: [String!]!
}

type SendInvitesOutput {
  sent: [String!]!
  failed: [FailedInviteOutput!]!
}

input UpdateFamilyInput {
  familyId: ID!
  name: String
  image: Upload
  description: String
  colour: String
}

input UpdateMementoInput {
  mementoId: ID!
  description: String
  location: String
  people: [ID!]
  beneficiaries: [ID!]
  tags: [String!]
  updateMedia: [UpdateMementoMediaInput!]
  appendMedia: [CreateMementoMediaInput!]
  deleteMedia: [DeleteMementoMediaInput!]
}

input UpdateMementoMediaInput {
  mediaId: ID!
  caption: String!
}

type UpdateRoleOutput {
  userId: ID!
  role: Role!
}

input UpdateUserInput {
  userId: ID!
  firstName: String!
  lastName: String
  location: String
  dateOfBirth: String
  gender: Gender
  image: Upload
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  userId: ID!
  email: String!
  firstName: String!
  lastName: String!
  imageUrl: String
  location: String
  dateOfBirth: String
  gender: String
  familyRoles: [Role!]!
  families: [Family!]!
  bookmarks: [Memento!]!
  createdAt: DateTime!
  updatedAt: DateTime!
  lastSeenAt: DateTime!
}

input UserSignupInput {
  email: String!
  password: String!
  firstName: String!
  lastName: String!
}
